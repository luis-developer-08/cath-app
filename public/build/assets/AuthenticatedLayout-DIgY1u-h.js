import{j as e,u as b,g as t,K as h,m as j,$ as a,k as f}from"./app-DIO8hiTK.js";const g=()=>e.jsx("footer",{className:"footer footer-center bg-base-300 text-base-content p-4",children:e.jsx("aside",{children:e.jsxs("p",{children:["Copyright Â© ",new Date().getFullYear()," - All right reserved by CATHYCUTIE"]})})}),v=()=>{const o=b(),s=t.useRef(null),l=h().props.auth.user,{post:x}=j(),[i,d]=t.useState(null),m=n=>{d(n.target.files[0])},p=async()=>{var c,u;if(!i){alert("Please select a CSV file first.");return}const n=new FormData;n.append("file",i);try{const r=await axios.post("/api/importCsv",n,{headers:{"Content-Type":"multipart/form-data"}});o.invalidateQueries("getAllTransactions"),f.success(r.data.message),d(null),s.current&&(s.current.value="")}catch(r){alert("Error uploading file: "+(((u=(c=r.response)==null?void 0:c.data)==null?void 0:u.error)||"Unknown error"))}};return e.jsxs("div",{className:"navbar bg-base-300 px-20 sticky top-0",children:[e.jsx("div",{className:"navbar-start",children:e.jsxs("div",{className:"dropdown",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),e.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[e.jsx("li",{children:e.jsx(a,{href:route("dashboard"),children:"Homepage"})}),e.jsx("li",{children:e.jsx("a",{children:"About"})})]})]})}),e.jsx("div",{className:"navbar-center",children:e.jsx(a,{className:"btn btn-ghost text-xl",href:route("dashboard"),children:"CathCutie"})}),e.jsxs("div",{className:"navbar-end gap-5",children:[e.jsxs("div",{className:"join",children:[e.jsx("input",{type:"file",accept:".csv",onChange:m,ref:s,className:"file-input file-input-bordered file-input-sm file-input-info rounded-sm join-item"}),e.jsx("button",{className:"btn bg-info btn-sm rounded-sm join-item border-none",onClick:p,children:"Upload CSV"})]}),l?e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar bg-base-100",children:l.name.slice(0,1)}),e.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:[e.jsx("li",{children:e.jsx(a,{href:route("profile.edit"),children:"Profile"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>x(route("logout")),children:"Logout"})})]})]}):null]})]})};t.createContext();function N({header:o,children:s}){return h().props.auth.user,t.useState(!1),e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[e.jsx(v,{}),e.jsx("main",{className:"flex-1 bg-base-200",children:s}),e.jsx(g,{})]})}export{N as A};
